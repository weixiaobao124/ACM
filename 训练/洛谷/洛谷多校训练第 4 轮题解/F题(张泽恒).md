<hr>

#### <center>  [F题 God J and Firm Structure](https://www.luogu.com.cn/problem/T125996?contestId=27041)</center>

**题意：**

给定一个 $N$ 个节点，最初没有边，通过添加边来使得图 $K-$ 连通。

**题解：**

如果 $K = 1$ 那么即使一棵树，$ANS = N - 1$

根据 $K$ 连通的定义：删除 $K$ 个节点图仍然保持连通，那么图中每个节点的度必须 $\geq K$ 否则删除该节点的几个连边即可使之孤立。

于是问题便转化成：添加最少的边使原图每个节点的度都$\geq K$

最小双连通图是环，所以我们需要先通过添加 $N$ 条边以构造出环，此时该图 $2$ 连通。

如果 $n$ 是偶数，那么每次加边两两配对，可以发现通过增加 $\frac{N}{2}$ 条边即可使得所有边的度数增加1，而且是同步的。

于是此时答案为：$ANS=N+(K-2)*\frac{N}{2}$

如果 $n$ 是奇数，可以发现两两配对连边时候一定会有一个点失配。

从连通度从 $2$ 变化到 $3$ 的过程为：先两两配对使得 $N - 1$ 个点的度达到 $3$ ，失配点和任意一个点相连得到 $1$ 个 $4$ 度点和其余 $N - 1$ 个 $3$ 度点。需要 $\frac{N}{2} + 1$ 条边。 

会发现在所有 $3$ 变 $4$ 度连边即将开始的时候，已经有 $1$ 个 $4$ 度点，其余$N- 1$ 恰好两两配对，需要 $\frac{N}{2}$ 条边。

此时便归纳出规律：

从偶数度开始使得所有点的度至少增加 $1$ 需要 $\frac{N}{2} + 1$ 条边， 其中有个点的度数增加 $2$ 。

奇数度开始增边开始时，必有一个点不需要连边，此时只需要 $\frac{n}{2}$ 条边即可使得所有点的度至少增加 $1$ 。

此时 $ANS = \frac{K - 2}{2} * (\frac{N}{2}+1) +\frac{K - 2 + 1}{2}*\frac{N}{2}+$

**时间复杂度：** $O(1)$

**AC代码：**

```c++
#include<bits/stdc++.h>
using namespace std;   
typedef long long ll;
ll n, k;
int main()
{
	ll T;
	cin >> T;
    while(T--)
    {
        cin >> n >> k;
        if(k == 1) printf("%lld\n", n - 1);
        else
        {
            ll r = k - 2;
            if(n % 2 == 0)
            {
                printf("%lld\n", n / 2 * r + n);
            }
            else
            {
                ll odd = (r + 1) / 2;
                ll even = r / 2;
                ll ans = n + odd * (n / 2 + 1) + even * (n / 2);
                printf("%lld\n", ans);
            }
        }
    }
    return 0;
}

```

<hr>
